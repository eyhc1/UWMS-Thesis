\chapter{Metrics For Evalutation}

This section outlines a comprehensive test plan for the pulse channel module, designed to rigorously evaluate its functionality, performance, and error-handling capabilities. The test strategy is systematically divided into distinct phases. Initially, it focuses on controlled experiments using predefined pulse sequences, ensuring that the module writes and reads fixed parameters accurately and that the hardware faithfully produces the expected pulse patterns. Next, the plan expands to include tests with randomly generated pulse parameters, simulating real-world conditions and assessing the design's robustness against unpredictable inputs. Finally, it validates the module's error detection mechanisms by deliberately injecting invalid parameters, confirming that the associated error flag registers correctly identify and report faults. Together, these testing stages build confidence in the module's reliability and performance, ensuring it meets the stringent requirements of advanced digital systems.

\section{Memory Access}

One of the metrics to evaluate is the pulse channel block's ability to read from and write to both the pulse definition and waveform table memories. This functionality directly affects the pulse channel's overall functionality and reliability. By continuously monitoring this capability throughout various testing phases, one can identify potential issues early on. This early detection ensures that data processed within the module remains consistent and accurate. Adopting this proactive approach not only maintains system stability but also prevents data corruption, thereby enhancing the overall integrity and efficiency of the system.

\section{Write Known Pulse}

A fundamental step in verifying the functionality of the pulse channel module is to perform a preliminary test using two to three predetermined pulses with fixed parameters. This carefully controlled test is designed to evaluate whether the hardware can accurately receive and produce known values, ensuring that each pulse is generated exactly as specified. Moreover, this initial validation helps identify potential issues before the module is deployed in scenarios involving more complex or real-world signal patterns. It provides a clear benchmark for performance, aids in troubleshooting early-stage design flaws, and supports iterative refinement of the system. In doing so, the test not only ensures compliance with the required technical specifications but also instills confidence in the module's ability to operate reliably under varying conditions.

\section{Controlled Randomized Test}

After verifying that the hardware behaves as expected during initial tests that memory read and write operations execute correctly, a more comprehensive regression is initiated. In this phase, a software generator creates random pulse parameters and base rise values applicable to both the hardware design and its floating-point software equivalent model. This randomized input methodology simulates a wide range of real-world conditions, thereby enhancing the testing process in terms of efficiency and reliability.

The software model calculates a theoretical floating-point value for each randomly generated pulse. This expected value serves as the benchmark for subsequent comparisons. However, since FPGA hardware operates with integer-based addresses and data, all pulse parameter values are scaled and then rounded down (floored) to the nearest integer before being written to memory or interfaced with other peripherals, as depicted in \autoref{fig:block_diagram}. After the conversion, the values produced by the hardware is compared against the modeled floating-point value. Naturally, some discrepancies may emerge due to the inherent rounding process. To quantify these differences, an error metric is computed as the absolute difference between the theoretical and actual values. Additionally, a delta value is determined by measuring the difference between sequential output values from the hardware, providing further insight into the system's behavior over time. 

\section{Check Error}

The pulse channel module is equipped with error flag registers designed to detect and flag invalid pulse parameters. To confirm that these error detection mechanisms operate as intended, the test introduces invalid parameter values into the system. For example, configuring a pulse with a rise length of 1 and a step value of 2 is expected to simultaneously trigger the error flags in registers 1 and 2, as detailed in \autoref{table:erro_regs}. Systematically verifying that the system accurately identifies and reports these errors ensures the pulse channel's capability to handle unforeseen or erroneous conditions effectively. 
